<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Hugo on The full cycle developer blog</title><link>https://fullcycledeveloper.com</link><description>Recent content in Hugo on The full cycle developer blog</description><generator>Hugo -- gohugo.io</generator><language>en-us</language><lastBuildDate>Sun, 23 Jan 2022 00:00:00 +0000</lastBuildDate><atom:link href="https://fullcycledeveloper.com/tags/hugo/index.xml" rel="self" type="application/rss+xml"/><item><title>Hosting your Hugo blog on Github Pages</title><link>https://fullcycledeveloper.com/2022/01/23/Hosting-hugo-blog-on-github-pages/</link><pubDate>Sun, 23 Jan 2022 00:00:00 +0000</pubDate><guid>https://fullcycledeveloper.com/2022/01/23/Hosting-hugo-blog-on-github-pages/</guid><description>&lt;p>When building APIs I often want to share my contract as soon as possible. Especially when you know your consumers and are you&amp;rsquo;re open for feedback and discussion on the contract of the API.&lt;/p>
&lt;h2 id="my-blog-using-hugo-what-is-in-the-box">My blog using Hugo, what is in the box?&lt;/h2>
&lt;ul>
&lt;li>Hugo CMS&lt;/li>
&lt;li>Finding a theme&lt;/li>
&lt;li>Algolia Search&lt;/li>
&lt;li>GitHub Pages for hosting&lt;/li>
&lt;li>Github discussions for comments using Giscuss&lt;/li>
&lt;li>Automatically deploy using Github Pages&lt;/li>
&lt;/ul>
&lt;p>Geert van der Cruijsen&lt;/p></description></item><item><title>Generating sandbox APIs for your ASP.Net Core Web APIs</title><link>https://fullcycledeveloper.com/2022/01/18/generate-sandbox-apis/</link><pubDate>Tue, 18 Jan 2022 00:00:00 +0000</pubDate><guid>https://fullcycledeveloper.com/2022/01/18/generate-sandbox-apis/</guid><description>&lt;p>When building APIs I often want to share my contract as soon as possible. Especially when you know your consumers and are you&amp;rsquo;re open for feedback and discussion on the contract of the API.&lt;/p>
&lt;h2 id="contract-first-or-code-first">Contract first or Code first?&lt;/h2>
&lt;p>Although I want to share my contract as soon as possible I don&amp;rsquo;t like these API contract designer tools. My approach is often just creating an empty API in Asp.Net Core by defining the controllers and classes that define the contract. Adding &lt;a href="https://github.com/domaindrivendev/Swashbuckle.AspNetCore">Swashbuckle&lt;/a> to your project will generate a Swagger file / Open API Spec based on the controllers and classes that you can use to document your API.&lt;/p>
&lt;h2 id="giving-your-consumers-a-testable-solution-as-soon-as-possible">Giving your consumers a testable solution as soon as possible&lt;/h2>
&lt;p>So an early API specification / contract is quite easy to create. But what if what if we could actually generate a working API from this specification that returns fake data? There are certain tools that can do this for you like &lt;a href="https://github.com/jormaechea/open-api-mocker">Open API Mock&lt;/a>. This tool can generate a working API from an API specification and return fake data based on additional extension properties in the specification.&lt;/p>
&lt;p>Let&amp;rsquo;s take a look at a basic swagger file (weather forecast from the built in template when you create a new Asp.Net Core Web API Project). I&amp;rsquo;ve added some extension properties (&lt;code>x-faker&lt;/code>) to the specification by hand so Open API Mock knows what kind of fake data it should generate. Open API Mock generates this data through a library called &lt;a href="https://github.com/faker-js/faker">Faker&lt;/a>. It has a wide range of fake data generators from numbers, to street names, phone numbers, bank details etc. Also available in many country specific variants.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-json" data-lang="json">&lt;span style="color:#f1fa8c">&amp;#34;schemas&amp;#34;&lt;/span>: {
&lt;span style="color:#ff79c6">&amp;#34;WeatherForecast&amp;#34;&lt;/span>: {
&lt;span style="color:#ff79c6">&amp;#34;type&amp;#34;&lt;/span>: &lt;span style="color:#f1fa8c">&amp;#34;object&amp;#34;&lt;/span>,
&lt;span style="color:#ff79c6">&amp;#34;properties&amp;#34;&lt;/span>: {
&lt;span style="color:#ff79c6">&amp;#34;date&amp;#34;&lt;/span>: {
&lt;span style="color:#ff79c6">&amp;#34;type&amp;#34;&lt;/span>: &lt;span style="color:#f1fa8c">&amp;#34;string&amp;#34;&lt;/span>,
&lt;span style="color:#ff79c6">&amp;#34;format&amp;#34;&lt;/span>: &lt;span style="color:#f1fa8c">&amp;#34;date-time&amp;#34;&lt;/span>,
&lt;span style="color:#ff79c6">&amp;#34;x-faker&amp;#34;&lt;/span>: &lt;span style="color:#f1fa8c">&amp;#34;date.recent&amp;#34;&lt;/span>
},
&lt;span style="color:#ff79c6">&amp;#34;temperatureC&amp;#34;&lt;/span>: {
&lt;span style="color:#ff79c6">&amp;#34;type&amp;#34;&lt;/span>: &lt;span style="color:#f1fa8c">&amp;#34;integer&amp;#34;&lt;/span>,
&lt;span style="color:#ff79c6">&amp;#34;format&amp;#34;&lt;/span>: &lt;span style="color:#f1fa8c">&amp;#34;int32&amp;#34;&lt;/span>,
&lt;span style="color:#ff79c6">&amp;#34;x-faker&amp;#34;&lt;/span>: &lt;span style="color:#f1fa8c">&amp;#34;datatype.number(-10,35)&amp;#34;&lt;/span>
},
&lt;span style="color:#ff79c6">&amp;#34;temperatureF&amp;#34;&lt;/span>: {
&lt;span style="color:#ff79c6">&amp;#34;type&amp;#34;&lt;/span>: &lt;span style="color:#f1fa8c">&amp;#34;integer&amp;#34;&lt;/span>,
&lt;span style="color:#ff79c6">&amp;#34;format&amp;#34;&lt;/span>: &lt;span style="color:#f1fa8c">&amp;#34;int32&amp;#34;&lt;/span>,
&lt;span style="color:#ff79c6">&amp;#34;readOnly&amp;#34;&lt;/span>: &lt;span style="color:#ff79c6">true&lt;/span>,
&lt;span style="color:#ff79c6">&amp;#34;x-faker&amp;#34;&lt;/span>: &lt;span style="color:#f1fa8c">&amp;#34;datatype.number(105)&amp;#34;&lt;/span>
},
&lt;span style="color:#ff79c6">&amp;#34;summary&amp;#34;&lt;/span>: {
&lt;span style="color:#ff79c6">&amp;#34;type&amp;#34;&lt;/span>: &lt;span style="color:#f1fa8c">&amp;#34;string&amp;#34;&lt;/span>,
&lt;span style="color:#ff79c6">&amp;#34;nullable&amp;#34;&lt;/span>: &lt;span style="color:#ff79c6">true&lt;/span>,
&lt;span style="color:#ff79c6">&amp;#34;x-faker&amp;#34;&lt;/span>: &lt;span style="color:#f1fa8c">&amp;#34;lorem.paragraph&amp;#34;&lt;/span>
}
},
&lt;span style="color:#ff79c6">&amp;#34;additionalProperties&amp;#34;&lt;/span>: &lt;span style="color:#ff79c6">false&lt;/span>
}
}
&lt;/code>&lt;/pre>&lt;/div>&lt;p>We can now use this swagger file and feed it to Open API Mock to generate a working API by using Docker to run the Open API Mock container.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-bash" data-lang="bash">docker run -v &lt;span style="color:#f1fa8c">&amp;#34;[path to your]swagger.json:/app/schema.json&amp;#34;&lt;/span> -p &lt;span style="color:#f1fa8c">&amp;#34;8080:5000&amp;#34;&lt;/span> jormaechea/open-api-mocker
&lt;/code>&lt;/pre>&lt;/div>&lt;p>Now when we test this API you&amp;rsquo;ll see that Open API Mock returns fake data specified in the faker extension properties of the specification.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-json" data-lang="json">[
{
&lt;span style="color:#ff79c6">&amp;#34;date&amp;#34;&lt;/span>:&lt;span style="color:#f1fa8c">&amp;#34;2022-01-05T22:25:30.366Z&amp;#34;&lt;/span>,
&lt;span style="color:#ff79c6">&amp;#34;temperatureC&amp;#34;&lt;/span>:&lt;span style="color:#bd93f9">-6&lt;/span>,
&lt;span style="color:#ff79c6">&amp;#34;temperatureF&amp;#34;&lt;/span>:&lt;span style="color:#bd93f9">41&lt;/span>,
&lt;span style="color:#ff79c6">&amp;#34;summary&amp;#34;&lt;/span>:&lt;span style="color:#f1fa8c">&amp;#34;Praesentium iste natus temporibus omnis nihil perspiciatis quo. Rerum odit blanditiis quia autem et earum magnam quod. Suscipit voluptate quia voluptatibus ea reiciendis. Sed praesentium sed in est.&amp;#34;&lt;/span>
}
]
&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="adding-this-functionality-automatically-to-your-swashbuckle-generated-swagger-file">Adding this functionality automatically to your Swashbuckle generated swagger file&lt;/h2>
&lt;p>So manually adding a swagger file is nice but what if you want to add this functionality automatically to your swagger file when it&amp;rsquo;s being generated by Swashbuckle? I&amp;rsquo;ve created a small extension to Swashbuckle, published through Nuget called &lt;a href="https://www.nuget.org/packages/Swashbuckle.AspNetCore.ExtensionProperties/">Swashbuckle.AspNetCore.ExtensionProperties&lt;/a>. What this allows you to do is to add attributes to your classes that are used in the Open API Specification that is generated by Swashbuckle.&lt;/p>
&lt;p>If you install the Nuget package you can add attributes in the following way:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-C#" data-lang="C#">&lt;span style="color:#ff79c6">public&lt;/span> &lt;span style="color:#ff79c6">class&lt;/span> &lt;span style="color:#50fa7b">WeatherForecast&lt;/span>
{
&lt;span style="color:#50fa7b"> [Faker(fakerValue:&amp;#34;date.recent&amp;#34;)]&lt;/span>
&lt;span style="color:#ff79c6">public&lt;/span> DateTime Date { &lt;span style="color:#ff79c6">get&lt;/span>; &lt;span style="color:#ff79c6">set&lt;/span>; }
&lt;span style="color:#50fa7b">
&lt;/span>&lt;span style="color:#50fa7b"> [Faker(fakerValue:&amp;#34;datatype.number(-10,35)&amp;#34;)]&lt;/span>
&lt;span style="color:#ff79c6">public&lt;/span> &lt;span style="color:#8be9fd">int&lt;/span> TemperatureC { &lt;span style="color:#ff79c6">get&lt;/span>; &lt;span style="color:#ff79c6">set&lt;/span>; }
&lt;span style="color:#50fa7b">
&lt;/span>&lt;span style="color:#50fa7b"> [Faker(fakerValue:&amp;#34;datatype.number(105)&amp;#34;)]&lt;/span>
&lt;span style="color:#ff79c6">public&lt;/span> &lt;span style="color:#8be9fd">int&lt;/span> TemperatureF =&amp;gt; &lt;span style="color:#bd93f9">32&lt;/span> + (&lt;span style="color:#8be9fd">int&lt;/span>)(TemperatureC / &lt;span style="color:#bd93f9">0.5556&lt;/span>);
&lt;span style="color:#50fa7b">
&lt;/span>&lt;span style="color:#50fa7b"> [Faker(fakerValue:&amp;#34;lorem.paragraph&amp;#34;)]&lt;/span>
&lt;span style="color:#ff79c6">public&lt;/span> &lt;span style="color:#8be9fd">string?&lt;/span> Summary { &lt;span style="color:#ff79c6">get&lt;/span>; &lt;span style="color:#ff79c6">set&lt;/span>; }
}
&lt;/code>&lt;/pre>&lt;/div>&lt;p>Generating the specification file by running the API will result in the exact same json as mentioned earlier in this post.&lt;/p>
&lt;p>The source of this nuget package is open source and can be found on my &lt;a href="https://github.com/geertvdc/Swashbuckle.AspNetCore.ExtensionProperties">Github repo&lt;/a>. It can also be used to add other types of extension properties that you might want to add to your specification file for other tools that process your swagger files.&lt;/p>
&lt;p>So whenever we would start a new API Project we could have a running sandbox solution that returns fake data for our API in only a few minutes by just following the following steps mentioned earlier:&lt;/p>
&lt;ol>
&lt;li>Create a new Asp.Net Core Web API Project with Controllers + Classes&lt;/li>
&lt;li>Add &lt;a href="https://github.com/domaindrivendev/Swashbuckle.AspNetCore">Swashbuckle&lt;/a> to the project&lt;/li>
&lt;li>Add the &lt;a href="https://www.nuget.org/packages/Swashbuckle.AspNetCore.ExtensionProperties/">Swashbuckle.AspNetCore.ExtensionProperties&lt;/a> NuGet package to the project&lt;/li>
&lt;li>Add &lt;code>Faker&lt;/code> attributes to your properties in your Classes.&lt;/li>
&lt;li>Extract the .json file from your API by running the API and browsing to the Swagger UI on &lt;code>[api]/swagger/&lt;/code>&lt;/li>
&lt;li>Run the Open API Mock using your swagger file&lt;/li>
&lt;/ol>
&lt;h2 id="using-this-in-automation--pipelines-and-automatically-posting-it-to-azure-api-management">Using this in Automation / pipelines and automatically posting it to Azure API Management&lt;/h2>
&lt;p>The steps above are quite easy to do but I always try to set up all deployments through continous delivery pipelines. So what I like to do for every change made to the API is to automatically deploy it&amp;rsquo;s specification to Azure API Management. There is quite some information on how to do this either by infrastructure as code tech such as ARM or TerraForm but also using the Azure CLI or Powershell. I&amp;rsquo;ll skip on the basics of how to import an API to API management but would like to focus on how you could work with both a sandbox and the actual API.&lt;/p>
&lt;h3 id="blogs--documentation-on-azure-api-management-deployments-from-delivery-pipelines">Blogs &amp;amp; documentation on Azure API Management deployments from delivery pipelines.&lt;/h3>
&lt;ul>
&lt;li>&lt;a href="https://mobilefirstcloudfirst.net/2017/07/setting-continuous-delivery-azure-api-management-vsts/">https://mobilefirstcloudfirst.net/2017/07/setting-continuous-delivery-azure-api-management-vsts/&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://docs.microsoft.com/en-us/azure/api-management/devops-api-development-templates">https://docs.microsoft.com/en-us/azure/api-management/devops-api-development-templates&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://mscloud.be/azure/Update-API-in-APIM-from-Azure-Devops/">https://mscloud.be/azure/Update-API-in-APIM-from-Azure-Devops/&lt;/a>&lt;/li>
&lt;/ul>
&lt;h3 id="sandboxes-in-azure-api-management">Sandboxes in Azure API Management.&lt;/h3>
&lt;p>Azure API management has the notion of &amp;ldquo;Products&amp;rdquo;. These products are a way you can group certain APIs together and give a specific audience access to these APIs. When working with sandboxes I always prefer to create 2 products, one for the sandbox APIs and one for the actual APIs. This way you have 2 APIs for each of your API. 1 sandbox API in the sandbox product and 1 actual API in the production product.&lt;/p>
&lt;p>Sandboxes are APIs that do not contain any real data so opening them up for everyone is a best practice so people can get inspired by browsing through the API list and playing around with them.&lt;/p>
&lt;h3 id="how-to-easily-get-the-open-api-specification-from-a-aspnet-core-web-api-project-in-a-pipeline">How to easily get the Open API Specification from a ASP.Net Core Web API project in a pipeline&lt;/h3>
&lt;p>The Swashbuckle project comes with a CLI tool to download the Open API specification file with a simple command. You can download and use the Swashbuckle.AspNetCore.Cli tool by running the following command:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-bash" data-lang="bash">dotnet tool install -g --version 6.2.3 Swashbuckle.AspNetCore.Cli
swagger tofile --output swagger.json YourApi/bin/Debug/net6.0/YourApi.dll &lt;span style="color:#f1fa8c">&amp;#34;v1&amp;#34;&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;p>After extracting the Open API Specification file you can now pass it into the Open API Mock container and spin that container up somewhere in the cloud on for example an Azure Container Instance, an Azure Web App for Containers or an AKS cluster if you are already using those. After that hook up the Azure API Management backend to your mock and you&amp;rsquo;re ready to go.&lt;/p>
&lt;h2 id="conclusion">Conclusion&lt;/h2>
&lt;p>Hopefully this post, the nuget package and other tools I mentioned helps in shifting left the communication of API designs with your consumers so they have an early view on the contract but also an actual working API sandbox.&lt;/p>
&lt;p>Geert van der Cruijsen&lt;/p></description></item><item><title>Hello world!</title><link>https://fullcycledeveloper.com/2022/01/14/hello-world/</link><pubDate>Fri, 14 Jan 2022 00:00:00 +0000</pubDate><guid>https://fullcycledeveloper.com/2022/01/14/hello-world/</guid><description>&lt;p>As a software developer there is only 1 title you can use to create your first post on a new blog. &amp;ldquo;Hello World!&amp;rdquo;. ðŸ‘‹&lt;/p>
&lt;h3 id="so-why-this-blog">So why this blog?&lt;/h3>
&lt;p>It&amp;rsquo;s actually my 3rd blog website I created. I started of years ago with a blog using Wordpress that I hosted myself. Then about 6 years ago I was working a lot with Azure and wanted to move away from self hosting so I created a new blog (still using Wordpress) but then hosted on Azure. This worked quite well at that time but I lost passion for blogging a couple of years ago.&lt;/p>
&lt;p>Now I wanted to start writing some blogposts again so I had 2 options: dust of my old blog or create a new one. I never really liked the whole Wordpress experience and wanted to move to a static site generator so this was the right time to make the switch to &lt;a href="https://gohugo.io/">Hugo&lt;/a> hosted on &lt;a href="https://pages.github.com/">Github Pages&lt;/a>.&lt;/p>
&lt;p>The source of this blog can be found here on my &lt;a href="https://github.com/geertvdc/geertvdc.github.io">Github Repo: Geertvdc/geertvdc.github.io&lt;/a>.&lt;/p>
&lt;h3 id="full-cycle-developer">Full cycle developer?&lt;/h3>
&lt;p>As my dayjob I work as a Senior Consultant at Xpirit where I help companies build better software. I do this by improving the Engineering culture, introduce new technology and coaching employees from CTOs to Developers. I believe that building the best software is done by teams who follow the DevOps mantra: &amp;ldquo;You build it, you run it!&amp;rdquo;. I love this mantra and try to improve teams on all aspects from architecture, design, implementation, testing, deployments, maintenance, and support. That&amp;rsquo;s why I called this blog &amp;ldquo;The full cycle developer blog&amp;rdquo;.&lt;/p>
&lt;h3 id="sharing-knowledge">Sharing Knowledge&lt;/h3>
&lt;p>Sharing Knowledge is one of my passions. Either by writing articles or blogposts but also by public speaking at international conferences and meetups.&lt;/p>
&lt;h3 id="what-to-expect-on-this-blog">What to expect on this blog?&lt;/h3>
&lt;p>Posts by me on this blog can cover all aspects of software development from technical posts about a certain technology to non technical posts about organizational culture or personal development.&lt;/p>
&lt;h3 id="so-who-am-i">So who am I?&lt;/h3>
&lt;p>My name is Geert van der Cruijsen. I&amp;rsquo;m a senior consultant working at Xpirit in the Netherlands but more important i&amp;rsquo;m also a husband of my wife Patty and father of my daughters Lauren &amp;amp; Amber.&lt;/p></description></item></channel></rss>